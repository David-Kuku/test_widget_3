{"id":"lY9v","dependencies":[{"name":"C:\\Users\\USER\\Desktop\\reddit-widget\\package.json","includedInParent":true,"mtime":1704974489717},{"name":"react","loc":{"line":1,"column":43,"index":43},"parent":"C:\\Users\\USER\\Desktop\\reddit-widget\\src\\App.js","resolved":"C:\\Users\\USER\\Desktop\\reddit-widget\\node_modules\\react\\index.js"},{"name":"./App.css","loc":{"line":2,"column":7,"index":59},"parent":"C:\\Users\\USER\\Desktop\\reddit-widget\\src\\App.js","resolved":"C:\\Users\\USER\\Desktop\\reddit-widget\\src\\App.css"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nrequire(\"./App.css\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n// Render each post\nfunction renderPost(post) {\n  const {\n    data: {\n      title,\n      url,\n      author,\n      id\n    }\n  } = post;\n  const authorUrl = \"https://www.reddit.com/u/\".concat(author);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"reddit_widget__post\",\n    key: id\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"reddit_widget__posted_by\"\n  }, \"posted by \", /*#__PURE__*/_react.default.createElement(\"a\", {\n    href: authorUrl,\n    className: \"reddit_widget__posted_by\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"u/\", author)), /*#__PURE__*/_react.default.createElement(\"a\", {\n    href: url,\n    className: \"reddit_widget__title\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, title));\n}\n\n// Filter, since reddit always returns stickied posts up top\nfunction nonStickiedOnly(post) {\n  return !post.data.stickied;\n}\nfunction App(_ref) {\n  let {\n    domElement\n  } = _ref;\n  const subreddit = domElement.getAttribute(\"data-subreddit\");\n  const [loading, setLoading] = (0, _react.useState)();\n  const [error, setError] = (0, _react.useState)('');\n  const [data, setData] = (0, _react.useState)([]);\n  (0, _react.useEffect)(() => {\n    // Fetch data from reddit\n    setLoading(true);\n    fetch(\"https://www.reddit.com/r/\".concat(subreddit, \".json\")).then(response => response.json()).then(data => {\n      setLoading(false);\n      setData(data.data.children.slice(0, 10));\n    }).catch(e => {\n      console.log(e);\n      setLoading(false);\n      setError('error fetching from reddit');\n    });\n  }, [subreddit]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"reddit_widget__app\"\n  }, /*#__PURE__*/_react.default.createElement(\"h1\", {\n    className: \"reddit_widget__header\"\n  }, \"Latest posts in __hell0__ \", /*#__PURE__*/_react.default.createElement(\"a\", {\n    href: \"https://reddit.com/r/\".concat(subreddit),\n    rel: \"noopener noreferrer\"\n  }, \"/r/\", subreddit)), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"reddit_widget__inner\"\n  }, loading && \"Loading...\", error && error, !!data.length && data.filter(nonStickiedOnly).map(renderPost)), /*#__PURE__*/_react.default.createElement(\"p\", {\n    className: \"reddit_widget__powered_by\"\n  }, \"This kuku widget is powered by\", \" \", /*#__PURE__*/_react.default.createElement(\"a\", {\n    href: \"https://javascriptpros.com\",\n    rel: \"noopener noreferrer\",\n    target: \"_blank\"\n  }, \"ReactPros.com\")));\n}\nvar _default = exports.default = App;"},"sourceMaps":null,"error":null,"hash":"9f67db037f8d78704501ec860fa7af5b","cacheData":{"env":{}}}